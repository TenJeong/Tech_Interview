## 데이터베이스의 기본

### #️⃣ 데이터베이스 (DB, Database)
* 일정한 규칙, 혹은 규약을 통해 구조화되어 저장되는 데이터의 모음
* DBMS(Database Management System)
  * 데이터베이스를 제어, 관리하는 통합 시스템
  * ex. MySQL, MariaDB
* 데이터베이스 안에 있는 데이터들을 특정 DBMS마다 정의된 쿼리 언어(query language)를 통해 삽입, 삭제, 수정, 조회 등을 수행할 수 있다.
* 데이터베이스는 실시간 접근과 동시 공유가 가능하다.
* 데이터베이스 위에 DBMS가 있고, 그 위에 응용 프로그램이 있으며 이러한 구조를 기반으로 데이터를 주고 받는다.


### 1️⃣ 엔티티 (Entity)
* 사람, 장소, 물건, 사건, 개념 등 여러 개의 속성을 지닌 명사
* 서비스의 요구 사항에 맞추어 속성이 정해진다.
* 약한 엔티티와 강한 엔티티
  * A가 혼자서는 존재하지 못하고 B의 존재 여부에 따라 종속적이라면 A는 약한 엔티티이고 B는 강한 엔티티가 된다.


### 2️⃣ 릴레이션 (Relation)
* 데이터베이스에서 정보를 구분하여 저장하는 기본 단위
* 데이터베이스는 엔티티에 관한 데이터를 릴레이션 하나에 담아서 관리한다.
* 릴레이션은 관계형 데이터베이스에서 '테이블'이라고 하며, NoSQL 데이터베이스에서는 '컬렉션'이라고 한다.


* 테이블과 컬렉션
  * 관계형 데이터베이스
    * 구조: 레코드-테이블-데이터베이스 (레코드가 쌓여서 테이블이 되고 테이블이 쌓여서 데이터베이스가 된다)
    * ex. MySQL
  * NoSQL 데이터베이스
    * 구조: 도큐먼트-컬렉션-데이터베이스
    * ex. MongoDB


### 3️⃣ 속성 (Attribute)
* 릴레이션에서 관리하는 구체적이며 고유한 이름을 갖는 정보
* 서비스의 요구사항을 기반으로 관리해야 할 필요가 있는 속성들만 엔티티의 속성이 된다.


### 4️⃣ 도메인 (Domain)
* 릴레이션에 포함된 각각의 속성들이 가질 수 있는 값의 집합
* ex. 성별이라는 속성이 있다면 이 속성이 가질 수 있는 값은 {남, 여}라는 집합이 된다.


### 5️⃣ 필드와 레코드
* 필드: 테이블에서 속성에 해당. 열(col) 단위
* 레코드: 테이블에 쌓이는 행(row) 단위의 데이터. 튜플이라고도 한다.
* 필드 타입
  * 숫자 타입: TINYINT, SMALLINT, MEDIUMINT, INT, BIGINT
  * 날짜 타입: DATE(날짜 o, 시간 x), DATETIME(날짜 o, 시간 o, 8byte), TIMESTAMP(날짜 o, 시간 o, 4byte)
  * 문자 타입
    * CHAR(고정 길이 문자열, 0~255), VARCHAR(가변 길이 문자열, 0~65,535)
    * TEXT(큰 문자열, 본문용), BLOB(큰 데이터, 이미지, 동영상용)
    * ENUM(문자열 열거, 단일 선택, 잘못된 값 삽입 시 빈 문자열 삽입, 0, 1 등으로 매핑되어 메모리 적게 사용됨, 최대 65,535개), SET(문자열 열거, 다중 선택, 최대 65개)
      * 공간적으로 이점을 볼 수 있지만 애플리케이션 수정에 따라 정의한 목록을 수정해야 한다는 단점이 있다.


### 6️⃣ 관계 (Relation)
* 1:1 관계: 테이블을 두 개의 테이블로 나눠 테이블의 구조를 더 이해하기 쉽게 만들어 준다.
* 1:N 관계: 한 개체가 다른 많은 개체를 포함하는 관계
* N:M 관계: N:M은 테이블 두 개를 직접적으로 연결해서 구축하지는 않고 1:N, 1:M이라는 관계를 갖는 테이블 두개로 나눠서 설정한다.


### 7️⃣ 키 (Key)
* 테이블 간의 관계를 조금 더 명확하게 하고 테이블 자체의 인덱스를 위해 설정된 장치

* 기본키 (PK, Primary Key)
  * 유일성과 최소성을 만족하는 키
  * 테이블의 데이터 중 고유하게 존재하는 속성
  * 기본키에 해당하는 데이터는 중복되면 안된다.
  * 기본키는 자연키 또는 인조키 중에 골라 설정한다.
  * 자연키
    * 중복된 값들을 제외하며 중복되지 않는 것을 자연스레 뽑다가 나오는 키
    * 자연키는 언젠가는 변하는 속성을 가진다.
  * 인조키
    * 인위적으로 생성한 키 (MySQL - auto increment)
    * 자연키와 대조적으로 변하지 않는다.
    * 보통 기본키는 인조키로 설정한다.


* 외래키 (FK, Foreign Key)
  * 다른 테이블의 기본키를 그대로 참조하는 값
  * 개체와의 관계를 식별하는 데 사용한다.
  * 외래키는 중복 가능하다.


* 후보키 (Candidate Key)
  * 기본키가 될 수 있는 후보들
  * 유일성과 최소성을 동시에 만족하는 키


* 대체키(Alternate Key)
  * 후보키가 두 개 이상일 경우 어느 하나를 기본키로 지정하고 남은 후보키들


* 슈퍼키(Super Key)
  * 각 레코드를 유일하게 식별할 수 있는 유일성을 갖춘 키


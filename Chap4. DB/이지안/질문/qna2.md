# QnA day6
## 받은 질문
1. 옵티마이저란?
- 옵티마이저는 SQL을 가장 빠르고 효율적으로 수행할 최적의 처리 경로를 생성해 주는 DBMS 내부의 핵심 엔진입니다.
- 컴퓨터의 두뇌가 CPU인 것처럼 DBMS의 두뇌는 옵티마이저라고 할 수 있습니다.

2. 중첩 루프 조인이 무엇인지 그리고 동작 원리는?
- 2개 이상의 테이블에서 하나의 집합을 기준으로 순차적으로 상대방 Row를 결합하여 원하는 결과를 조합하는 조인 방식입니다
- 선행 테이블의 처리 범위를 하나씩 액세스 하면서 추출된 값으로 후행 테이블을 조인하는 방식으로 동작
- 선행 테이블 : 조인 시 먼저 액세스 되는 테이블, WHERE 절로 최대한 데이터를 거를 수 있는 테이블 / 데이터 양이 적은 테이블로 선정
- 후행 테이블 : 조인 시 나중에 액세스 되는 테이블 (Driving이 아닌 나머지 테이블)
  - 조인을 위한 인덱스가 생성되어 있는 것이 좋다  
  ( 없다면 Driving Table에서 도출된 결과와 맞는지 매번 FULL TABLE SCAN으로 일일이 비교해야 하기 때문)

3. 정렬 병합 조인이란?
- 양 테이블을 각각 접근하여 조인할 필드를 기준으로 결과를 정렬하고, 정렬한 결과를 Scan해가면서 연결 조건으로 Merge하는 방식

## 질문
### 1-1. 인덱스란?
데이터베이스 테이블에 대한 검색 성능의 속도를 높여주는 자료 구조

### 1-2. 인덱스를 사용할 때의 단점?
- DB의 10%정도 공간이 요구됩니다.
- 인덱스를 생성하는 시간이 크게 요구됩니다.
- INSERT, DELETE, UPDATE 쿼리문을 실행할 때 별도의 과정이 추가적으로 발생하기 때문에 DB의 변경작업이 잦으면 성능이 저하됩니다.

### 2. RDBMS와 NoSQL에 대해 설명해주세요.
관계형 데이터베이스는 2차원 테이블로 관계를 관리하는 데이터베이스입니다. 고정된 스키마에 맞춰 데이터를 관리하므로 데이터의 정합성을 보장하는 대신, 시스템이 커질 수록 쿼리가 복잡해져 성능이 저하되고 scale-out(수평 확장)이 어렵습니다.
NoSQL은 고정된 스키마가 없이 Key-value 형태로 자유롭게 데이터를 관리할 수 있습니다. 분산처리에 특화되어 수평적 확장이 쉽고 빠른 쓰기가 가능합니다. 하지만, 트랜잭션을 지원하지 않으며 중복된 데이터가 추가가 가능해 별도의 관리가 필요합니다.
### 2-1. 각각 어느 경우에 사용하면 적합한지 설명해주세요.
RDBMS는 데이터 구조가 명확하고 변경될 일이 거의 없고 스키마가 중요할 경우 사용하는 것이 좋습니다. 
또한 중복된 데이터가 없어 변경이 용이하므로 관계를 맺고 있는 데이터가 자주 변경이 이루어지는 시스템에 적합합니다.
NoSQL은 정해진 데이터 구조가 없고 데이터가 변경/확장될 수 있을 때 사용하는 것이 좋습니다. 데이터 중복이 발생할 수 있으므로 중복된 데이터가 변경된다면
모든 컬렉션에서 수정해야하므로 Update가 많이 이루어지지 않는 시스템에서 사용하는 것이 좋으며 Scale-out이 가능하다는 점을 활용해 막대한 데이터를 저장해 데이터베이스를 Scale-out해야 되는 시스템에 적합합니다.

### 3-1. SQL Injection이 무엇인가요?
- SQL Injection이란 공격자가 악의적인 의도를 갖는 SQL 구문을 삽입하여 데이터베이스를 비정상적으로 조작하는 코드 인젝션 공격 기법입니다.
### 3-2. SQL Injection을 방어하기 위한 방법은?
- 입력값을 검증하여 사용자의 입력이 쿼리에 동적으로 영향을 주는 경우 입력된 값이 개발자가 의도한 값(유효값) 인지 검증합니다.
- 저장 프로시저를 사용합니다.
   - 입력값을 검증하여 사용자의 입력이 쿼리에 동적으로 영향을 주는 경우 입력된 값이 개발자가 의도한 값(유효값) 인지 검증합니다.
   - 저장 프로시저를 사용합니다.  
※ 저장 프로시저란 사용하고자 하는 Query에 미리 형식을 지정하는 것을 말한다. 지정된 형식의 데이터가 아니면 Query가 실행되지 않기 때문에 보안성이 크게 향상한다.
- SQL Injection을 수행하기 위해서는 데이터베이스의 정보(테이블명, 컬럼명 등)가 필요,  데이터 베이스에 대한 오류발생 시 사용자에게 보여줄 수 있는 페이지를 제작 혹은 메시지박스를 띄우도록 하여야 합니다.

### 4. having과 where의 차이를 설명해주세요.
having은 그룹을 필터링 하는데 사용되고, where은 개별 행을 필터링하는데 사용됩니다.  
집계 함수(COUNT, SUM, AVG, MAX, MIN 등)는 having절과 함께 사용할 수 있으나,  
where절은 사용할 수 없습니다.( 집계함수를 사용할 수 있는 GROUP BY 절보다 WHERE절이 먼저 수행)  
having은 그룹화 또는 집계가 발생한 후 필터링하는데 사용되고,  
where은 그룹화 또는 집계가 발생하기 전에 필터링하는데 사용됩니다.  

### 5. inner join, outer join에 대해 설명해주세요.
내부 조인은 서로 연관된 내용만 검색하는 조인 방법입니다. A와 B에 대해 수행하는 것은 A와 B의 교집합을 말합니다.
외부 조인은 한 쪽에는 데이터가 있고 한 쪽에는 데이터가 없을 경우, 데이터가 있는 쪽의 내용을 전부 출력하는 방법입니다. A와 B의 합집합을 말합니다.  
종류로는 왼쪽 외부 조인, 오른쪽 외부 조인, 완전 외부 조인이 있습니다.


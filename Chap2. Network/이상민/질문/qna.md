# 네트워크


- **CSMA/CD, CSMA/CA의 차이점**
    
    CSMA/CD와 CSMA/CA는 통신을 할 때 신호가 올바르게 갔는지 안갔는지 확인하는 방법들 중 하나 입니다. CSMA는 CarrirSensingMultipleAccess의 약자 이며 CD CollisionDetection이고 CA는 CollisionAvoidance입니다. CSMA/CD는 유선에서 사용되는 방식중 하나이며 신호간 충돌이 발생했을 경우 jamming signal을 보내 다른 기기에서 signal을 보내는 것을 방지합니다. CSMA/CA는 무선에서 사용되는 방식이며 무선에서 신호의 충돌이 발생했을때 감지하기 어렵다는 점 때문에 일정 시간동안 대기한 이후 전송하려고 하는 기기가 없을 경우 신호를 보내 처음부터 충돌을 피하는 방식입니다.
    

---

- **OSI7계층, TCP/IP 4계층을 하는 이유**
    
    특정 계층이 변경되었을 때 다른 계층이 영향을 받지 않도록 설계하기 위함입니다. 이를 통해 계층간 문제가 발생시 어디서 문제가 되는지 쉽게 파악할 수 있으며 해결 역시 보다 쉽게 가능합니다.
    
---
    
- **캡슐화와 비캡슐화의 정의**
    
    캡슐화는 상위 계층의 데이터를 하위 계층으로 전달하기 위해 패킷 헤더와 특정 형식으로 변환하는 과정입니다.비캡슐화는 전송된 패킷을 받아 해당 패킷 헤더와 제어 정보를 제거하여 상위 계층으로 데이터를 복원하는 과정입니다
    
---
    
- **허브(L1스위치)와 스위치(L2스위치)의 차이**
    
    허브는 L1스위치 이며 통상적으로 말하는 스위치는 L2스위치 이다. L1 스위치인 허브는 포트 기반으로 네트워크를 형성하고 L2 스위치인 스위치는 mac주소를 기반으로 네트워크를 형성한다. 또한 허브는 수신받은 데이터 패킷을 연결된 모든 기기에 전송하고 L2 스위치는 목적지인 기기로만 데이터를 전송한다.
    
---
    
- **스푸핑의 정의와 방지하는 방법**
    
    스푸핑 방지를 할때는 https를 통해서 네트워크 암호화를 수행한다.
    
- **OSI 7계층에 대해서 설명해주세요.**
    
    나눈 이유 : 통신이 일어나는 과정을 단계별로 알수있고, 문제가 생기면 그 단계만 수정하면 됨
    
    - **물리** : 데이터 전송 ex) 리피터, 케이블, 허브
    - **데이터링크** : 물리 계층으로 송수신되는 정보 관리, Mac 주소로 통신 ex) 브릿지, 스위치
    - **네트워크** : 데이터를 목적지까지 전달, 라우터로 경로를 선택해 IP 지정, 경로에 따라 패킷 전달 ex) 라우터, IP
    - **전송** : 통신을 활성화 ex) TCP, UDP
    - **세션** : 데이터가 통신하기 위한 논리적 연결 담당 ex) API, Socket
    - **표현** : 데이터 표현에 대한 독립성을 제공하고 암호화 ex) JPEG, MPEG
    - **응용** : 최종 목적지, 응용프로그램과 연관하여 서비스 수행 ex) HTTP, FTP, DNS

---

- **TCP/IP 4계층에 대해서 설명해주세요.**
    
    1계층 네트워크 액세스 : 물리+데이터링크, MAC주소 사용
    
    2계층 인터넷 : 네트워크, 통신 노드간의 IP패킷을 전송하는 기능과 라우팅 기능 담당
    
    3계층 전송 : 전송, 통신 노드간의 연결 제어 및 신뢰성 있는 데이터 전송 담당
    
    4계층 응용 : 세션+표현+응용, 응용 프로그램 구현
    

---

- **TCP와 UDP의 차이에 대해서 설명해 주세요.**
    
    **TCP**
    
    - 신뢰성 있는 데이터 전송을 지원하는 연결 지향형 프로토콜
    - 흐름제어, 혼잡제어, 오류제어 지원
    - 연결 설정시 3 way handshake를, 연결 해제시 4 way handshake 진행
    - UDP보다 속도가 느리다
    - **EX)** 웹 http 통신, 이메일, 파일 전송
    
    **UDP**
    
    - 데이터를 데이터그램 단위로 처리하는 프로토콜
    - 신뢰성 낮음
    - 속도가 빠르고 부하가 적다
    - **EX)** Real Time Protocol(RTP), Multicast, DNS

---

- **3-way hand shake, 4-way hand shake 흐름에 대해서 설명해주세요.**
    
    **3 way handshake**
    
    - TCP/IP 프로토콜을 사용해 통신을 진행할떄, 두 종단간 정확한 데이터 전송 보장하기 위해 연결을 설정
    - SYN(Synchronize Sequence Number)
    - ACK(Acknowledgement)
    1. **클라이언트** → **서버** : 서버 접속 요청 **SYN 패킷** 보냄
    2. **서버** → **클라이언트** : 요청 수락 응답 **ACK 패킷**과 포트 열어달라는 **SYN 패킷** 보냄
    3. **클라이언트** → **서버** : 확인 응답으로 **ACK 패킷** 보냄
    
    
    
    **4 way handshake**
    
    - 연결 설정 해제함
    1. **클라이언트**→ **서버** : 연결 해제하겠다는 **FIN 패킷** 보냄
    2. **서버** → **클라이언트** : 응답으로 **ACK 패킷** 보냄
    3. **서버** → **클라이언트**: 처리해야할 모든 통신 끝내고 연결 종료하겠다는 **FIN 패킷** 보냄
    4. **클라이언트**→ **서버** : 확인 응답으로 **ACK 패킷** 보냄

---

- **4 way hand shake에서 Time wait가 필요한 이유에 대해 말해주세요.**
    1. 지연 패킷이 발생해 데이터 무결성 문제가 발생하는 것을 막기 위함입니다.
    2. 의도치않은 에러로 인해 연결이 데드락으로 빠지는 것을 방지하기 위함입니다.

---

- **왜 2way hand shaking이 아니라 3way hand shaking일까?**
    
    **TCP**는 양방향성 연결이기 때문에 클라이언트에서 서버에게 자신의 존재를 알리고 패킷을 보낼 수 있는 것처럼 서버에서도 클라이언트에게 자신의 존재를 알리고 패킷을 보낼 수 있다는 신호를 보내야 하기 때문이다.
    

---

- ****TCP의 연결 설정 과정(3단계)과 연결 종료 과정(4단계)이 단계가 차이나는 이유는 무엇인가요?****
    
    Client가 데이터 전송을 마쳤다고 하더라도 Server는 아직 보낼 데이터가 남아 있을 수 있기 때문에 일단 FIN에 대한 ACK만 보내고, 데이터를 모두 전송한 후에 자신도 FIN 메세지를 보내기 때문이라고 볼 수 있다.
    

---

- ****만약 Server에서 FIN 플래그를 전송하기 전에 전송한 패킷이 Routing 지연이나 패킷 유실로 인한 재전송 등으로 인해 FIN 패킷보다 늦게 도착하는 상황이 발생하면 어떻게 되나요?****
    
    TCP는 이러한 현상에 대비하여 Client는 Server로부터 FIN 플래그를 수신하더라도 일정시간동안 세션을 남겨놓고 잉여 패킷을 기다리는 과정을 거친다.
    

---

- ****초기 Sequence Number인 ISN을 0부터 시작하지 않고 난수를 생성해서 설정하는 이유는 무엇인가요?****
    
    Connection을 맺을 때 사용하는 포트(Port)는 유한 범위 내에서 사용하고 시간이 지남에 따라 재사용된다. 따라서 두 통신 호스트가 과거에 사용된 포트 번호 쌍을 사용하는 가능성이 존재한다. 서버 측에서는 패킷의 SYN을 보고 패킷을 구분하게 되는데 난수가 아닌 순처적인 Number가 전송된다면 이전의 Connection으로부터 오는 패킷으로 인식할 수 있다. 이런 문제가 발생할 가능성을 줄이기 위해서 난수로 ISN을 설정한다.
    

---

- **로드밸런싱이란 무엇이고 종류가 무엇이 있나요?**
    
    하나의 인터넷 서비스가 발생하는 트래픽이 많을 때 여러 대의 서버가 분산처리하여 서버의 로드율 증가, 부하량, 속도저하 등을 고려하여 적절히 분산처리하여 해결해주는 서비스입니다. 종류로는 MAC 주소를 바탕으로 로드 밸런싱을 하는 L2, IP주소로 로드밸런싱을 하는 L3, IP주소와 port번호를 기반으로 하는 L4, application layer에서 로드밸런싱을 하는 L7이 있습니다.
    

---

- **로드 밸런서가 서버를 선택하는 방식은 무엇이 있나요?**
    1. 라운드 로빈 : CPU 스케줄링의 라운드 로빈 방식 활용
    2. Least Connections : 연결 갯수가 가장 적은 서버 선택(트래픽으로 인해 세션이 길어지는 경우 권장)
    3. Source : 사용자 IP를 해싱하여 분배(특정 사용자가 항상 같은 서버로 연결되는 것을 보장)

---

- **로드밸런서 장애를 대비하는 방법으로는 무엇이 있나요?**
    
    서버를 분배하는 로드 밸런서에 문제가 생길 수 있기 때문에 로드 밸런서를 이중화하여 대비한다.
    
    - Active 상태
    - Passive 상태